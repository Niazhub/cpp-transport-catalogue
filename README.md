<h1>Финальный проект: транспортный справочник</h1>

<h2>Транспортный справочник</h2>
Этот проект представляет собой комплексное приложение для управления и отображения данных о системе общественного транспорта, созданное в рамках моего обучения. Проект включает в себя функциональность по добавлению, хранению, и выводу информации об автобусах, остановках, маршрутах и картах. Процесс работы программы разделен на две стадии:

<h2>Функциональность:</h2>
<h3>Первая стадия:</h3>
1. Программа принимает запросы на добавление базы данных автобусов, остановок, настройки маршрута и карты, а также принимает название файла для сериализации.<br>
2. Все входные данные парсятся в формат JSON.<br>
3. Данные из JSON формата переносятся в базу данных.<br>
4. Открывается файл для сериализации, и вся база сериализуется в бинарном формате.
<h3>Вторая стадия:</h3>
1. Программа принимает запросы для вывода информации об автобусах, остановках, маршрутах и карте.
2. Все данные парсятся в формат JSON.
3. Данные из JSON формата переносятся в базу данных.
4. Открывается файл для десериализации, и база данных оттуда десериализуется.
5. Строится маршрут на основе десериализованных данных.
6. Для вывода информации вручную строится JSON объект, используя паттерн проектирования Builder.
7. Программа получает информацию об автобусах, остановках, кратчайшем маршруте (рассчитанном при помощи графов) и карте маршрутов (выводится в формате XML с расширением SVG), добавляя всю информацию в JSON объект.
8. Вызывается метод для вывода информации из класса JSON.

<h2>Используемые технологии:</h2>
  • CMake: Используется для сборки проекта.<br>
  • Protocol Buffers (protobuf): Применяется для генерации базы данных программы и последующей сериализации данных в файл. База данных перенесена в соответствующие proto файлы.<br>
  • Builder Pattern: Добавлена поддержка для работы с паттерном Builder, облегчающим построение JSON объектов.

<h2>Запуск проекта:</h2>
<h3>Обычная сборка:</h3>
1. Для сборки проекта используйте CMake. Дополнительно, убедитесь, что у вас установлены необходимые зависимости, включая Protocol Buffers.<br>
2. Клонируйте репозиторий: https://github.com/Niazhub/cpp-transport-catalogue.git<br>
3. Перейдите в папку проекта: cd репозиторий<br>
4. Создайте папку build-debug и перейдите в нее<br>
5. Уставновите в отдельную папку Protobuf все библиотеки из папки protobuf-3.21.12 с помощью CMake:<br>
    • cmake <путь к распакованному архиву>/protobuf-3.21.12  -DCMAKE_BUILD_TYPE=Debug -Dprotobuf_BUILD_TESTS=OFF -DCMAKE_INSTALL_PREFIX=<путь к месту установки пакета>/Protobuf<br>
    • cmake --build . <br>
    • cmake --install . <br>
6. Соберите проект с помощью CMake в папке build-debug: <br>
    • cmake ../ -DCMAKE_PREFIX_PATH=<путь к собранному ранее пакету Protobuf>/Protobuf<br>
    • cmake --build .<br>
7. Проект собран в папке build-debug. Можно запускать.(Перед запуском добавьте аргументы запуска: make_base, если хотите заполнить базу. process_requests, если хотите получить результат на ваш запрос)
      
<h3>Сборка под Visual Studio:</h3>
1. Для сборки проекта используйте CMake. Дополнительно, убедитесь, что у вас установлены необходимые зависимости, включая Protocol Buffers.<br>
2. Клонируйте репозиторий: https://github.com/Niazhub/cpp-transport-catalogue.git<br>
3. Перейдите в папку проекта: cd репозиторий<br>
4. Создайте папку build и перейдите в нее<br>
5. Уставновите в отдельную папку Protobuf все библиотеки из папки protobuf-3.21.12 с помощью CMake:<br>
    • cmake <путь к распакованному архиву>/protobuf-3.21.12 -Dprotobuf_BUILD_TESTS=OFF -DCMAKE_INSTALL_PREFIX=<путь к месту установки пакета>/Protobuf -Dprotobuf_MSVC_STATIC_RUNTIME=OFF<br>
    • cmake --build . --config Debug <br>
    • cmake --install . --config Debug <br>
6. Соберите проект с помощью CMake в папке build-debug: <br>
    • cmake ../ -DCMAKE_PREFIX_PATH=<путь к собранному ранее пакету Protobuf>/Protobuf<br>
    • cmake --build . --config Debug <br>
7. Проект собран в папке build. Можно запускать файл .sln(Перед запуском добавьте аргументы запуска: make_base, если хотите заполнить базу. process_requests, если хотите получить результат на ваш запрос)

<h2>Пример ввода запросов:<h2>
<h3>Для make_base:</h3>
  {
      "serialization_settings": {
          "file": "transport_catalogue.db"
      },
      "routing_settings": {
          "bus_wait_time": 2,
          "bus_velocity": 30
      },
      "render_settings": {
          "width": 1200,
          "height": 500,
          "padding": 50,
          "stop_radius": 5,
          "line_width": 14,
          "bus_label_font_size": 20,
          "bus_label_offset": [
              7,
              15
          ],
          "stop_label_font_size": 18,
          "stop_label_offset": [
              7,
              -3
          ],
          "underlayer_color": [
              255,
              255,
              255,
              0.85
          ],
          "underlayer_width": 3,
          "color_palette": [
              "green",
              [
                  255,
                  160,
                  0
              ],
              "red"
          ]
      },
      "base_requests": [
          {
              "type": "Bus",
              "name": "14",
              "stops": [
                  "Улица Лизы Чайкиной",
                  "Электросети",
                  "Ривьерский мост",
                  "Гостиница Сочи",
                  "Кубанская улица",
                  "По требованию",
                  "Улица Докучаева",
                  "Улица Лизы Чайкиной"
              ],
              "is_roundtrip": true
          },
          {
              "type": "Bus",
              "name": "24",
              "stops": [
                  "Улица Докучаева",
                  "Параллельная улица",
                  "Электросети",
                  "Санаторий Родина"
              ],
              "is_roundtrip": false
          },
          {
              "type": "Bus",
              "name": "114",
              "stops": [
                  "Морской вокзал",
                  "Ривьерский мост"
              ],
              "is_roundtrip": false
          },
          {
              "type": "Stop",
              "name": "Улица Лизы Чайкиной",
              "latitude": 43.590317,
              "longitude": 39.746833,
              "road_distances": {
                  "Электросети": 4300,
                  "Улица Докучаева": 2000
              }
          },
          {
              "type": "Stop",
              "name": "Морской вокзал",
              "latitude": 43.581969,
              "longitude": 39.719848,
              "road_distances": {
                  "Ривьерский мост": 850
              }
          },
          {
              "type": "Stop",
              "name": "Электросети",
              "latitude": 43.598701,
              "longitude": 39.730623,
              "road_distances": {
                  "Санаторий Родина": 4500,
                  "Параллельная улица": 1200,
                  "Ривьерский мост": 1900
              }
          },
          {
              "type": "Stop",
              "name": "Ривьерский мост",
              "latitude": 43.587795,
              "longitude": 39.716901,
              "road_distances": {
                  "Морской вокзал": 850,
                  "Гостиница Сочи": 1740
              }
          },
          {
              "type": "Stop",
              "name": "Гостиница Сочи",
              "latitude": 43.578079,
              "longitude": 39.728068,
              "road_distances": {
                  "Кубанская улица": 320
              }
          },
          {
              "type": "Stop",
              "name": "Кубанская улица",
              "latitude": 43.578509,
              "longitude": 39.730959,
              "road_distances": {
                  "По требованию": 370
              }
          },
          {
              "type": "Stop",
              "name": "По требованию",
              "latitude": 43.579285,
              "longitude": 39.733742,
              "road_distances": {
                  "Улица Докучаева": 600
              }
          },
          {
              "type": "Stop",
              "name": "Улица Докучаева",
              "latitude": 43.585586,
              "longitude": 39.733879,
              "road_distances": {
                  "Параллельная улица": 1100
              }
          },
          {
              "type": "Stop",
              "name": "Параллельная улица",
              "latitude": 43.590041,
              "longitude": 39.732886,
              "road_distances": {}
          },
          {
              "type": "Stop",
              "name": "Санаторий Родина",
              "latitude": 43.601202,
              "longitude": 39.715498,
              "road_distances": {}
          }
      ]
  }
<h3>Для process_requests:</h3>
    {
      "serialization_settings": {
          "file": "transport_catalogue.db"
      },
      "stat_requests": [
          {
              "id": 218563507,
              "type": "Bus",
              "name": "14"
          },
          {
              "id": 508658276,
              "type": "Stop",
              "name": "Электросети"
          },
          {
              "id": 1964680131,
              "type": "Route",
              "from": "Морской вокзал",
              "to": "Параллельная улица"
          },
          {
              "id": 1359372752,
              "type": "Map"
          }
      ]
  }
  
